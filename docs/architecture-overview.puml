@startuml struktura_pakietow
skinparam backgroundColor #FFFFFF
skinparam packageStyle folder
skinparam defaultTextAlignment center
skinparam shadowing false
skinparam linetype ortho

' Stylizacja inżynierska
skinparam package {
    BackgroundColor #F8F9FA
    BorderColor #343A40
    TitleFontColor #000000
    TitleFontStyle bold
}
skinparam class {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontColor #000000
}

package "System MFBM" as MFBM {

    package "btg.gui" as GUI {
        class "MainWindow" as MainWin
        class "FileListPanel" as FilePanel
        class "DuplicateViewerWindow" as DupWin
    }

    package "btg.service" as Service {
        class "FileScanner" as Scan
        class "DuplicateDetectionService" as DupService
        class "BackupService" as Backup
        class "SyncService" as Sync
    }

    package "btg.util" as Util {
        class "MultiThreadedHashCalculator" as HashCalc
        class "LanguageManager" as Lang
        class "UIConstants" as UIConst
    }

    package "btg.model" as Model {
        class "BackupConfiguration" as Config
        class "BackupFile (Record)" as BFile
    }
}

' Relacje między pakietami (zależności)
GUI ..> Service : " Deleguje zadania"
Service ..> Util : " Używa narzędzi"
Service ..> Model : " Przetwarza dane"
GUI ..> Model : " Wyświetla stan"

' Ukryte relacje do wyrównania układu (Layout hints)
GUI -[hidden]down-> Service
Service -[hidden]down-> Model

@enduml